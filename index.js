var w=typeof require!="undefined"?require:s=>{throw new Error('Dynamic require of "'+s+'" is not supported')};var v=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var d=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)};var a=(s,e,t)=>(v(s,e,"access private method"),t);var p,W,i,h;import l from"chroma-js";import m from"./en";const y=(s,e,t)=>s>=e&&s<=t;class C{constructor(e,t=m){d(this,p);d(this,i);this.color=e,this.descriptions=t.descriptions,this.temperatures=t.temperatures,this.percentWords=t.percentWords}set color(e){this.currentColor=a(this,p,W).call(this,e)}get color(){return this.currentColor}get temeratureWords(){const e=this.color.temperature();return this.temperatures.reduce((t,r)=>Math.abs(r.value-e)<Math.abs(t.value-e)?r:t,{value:0})}percentages(e="gl"){const t=this.color[e]();e==="gl"&&t.pop();const r=t.reduce((o,g)=>o+g,0);return t.map(o=>r?o/r:0)}percentageWords(e="gl"){return this.percentages(e).map(t=>this.percentWords.find(r=>r.maxPercentile>=t).word)}get descriptiveWords(){return a(this,i,h).call(this,"descriptive")}get nouns(){return a(this,i,h).call(this,"nouns")}get emotions(){return a(this,i,h).call(this,"emotions")}get usage(){return a(this,i,h).call(this,"usage")}get bestContrast(){return l.contrast(this.color,"black")>l.contrast(this.color,"white")?"black":"white"}getDescriptiveList(e,t){let r=[...this.descriptiveWords];if(e&&(r=r.sort(()=>.5-Math.random())),t&&(r=r.slice(0,t)),r.length>1){const o=r.pop();return`${r.join(", ")} and ${o}`}else return r[0]}}p=new WeakSet,W=function(e){if(l.valid(e))return l(e);throw new TypeError("Color is not a valid color, check the chroma.js documentation.","color-description",14)},i=new WeakSet,h=function(e="descriptive"){const t=this.color.hsl();return this.descriptions.reduce((r,o)=>o.hasOwnProperty(e)&&Object.keys(o.criteria).every(c=>{const u=this.color[c]();return(c==="hsl"||c==="gl"||c==="rgb")&&u.pop(),o.criteria[c].every((n,f)=>n===null?!0:Array.isArray(n)?y(u[f],n[0],n[1]):isNaN(n)?!1:u[f]===n)})?[...new Set([...r,...o[e]])]:r,[])};export default C;
